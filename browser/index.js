(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.promo = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};exports.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={},n=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n&&(t[e]=t[e]||{queue:[]},t[e].queue.push(n))},r=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=!!t[e]&&t[e].queue;r&&r.forEach(function(e){return e(n)})};return _extends({},e,{emit:r,on:n})};
},{}],2:[function(require,module,exports){
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Stockpile=t()}(this,function(){"use strict";var e=function(e){function t(){l.setItem(e,c(s))}function n(e){return s[e]||null}function o(e,n){s[e]=n,t()}function i(e){delete s[e],t()}function u(){l.removeItem(e)}function r(e){return null!==n(e)}var f=JSON.parse,c=JSON.stringify,l=window.localStorage,s=f(l.getItem(e))||{};return{get:n,set:o,remove:i,clear:u,exists:r}};return e});
},{}],3:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},_stockpile=require("stockpile.js"),_stockpile2=_interopRequireDefault(_stockpile),_loop=require("loop.js"),_loop2=_interopRequireDefault(_loop),storage=(0,_stockpile2.default)("promobar"),now=function(){return(new Date).getTime()},height=function(e){return Math.max(e.offsetHeight,e.scrollHeight,e.clientHeight)},merge=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return r.forEach(function(t){return Object.keys(t).forEach(function(r){return e[r]=t[r]})}),e},store=function(e){return storage.set("root",{timestamp:(new Date).getTime(),body:e})},isEnabled=function(e,t){return function(r){var o=storage.get("root"),n=864e5;if(!o)return!0;var i=(r-o.timestamp)/n;return o.body!==t||i>=e}},createPlaceholder=function(){var e=document.createElement("div");return e.className="promobar-placeholder",e.style.height="0px",document.body.insertBefore(e,document.body.children[0]),e},createStyle=function(){var e=document.createElement("style");return document.body.insertBefore(e,document.body.children[0]),e},addAttributes=function(e){return e.forEach(function(e){Array.isArray(e)?e[1]()?e[0].setAttribute("data-promobar","true"):e.removeAttribute("data-promobar"):e.setAttribute("data-promobar","true")})},offsetPlaceholder=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;("function"==typeof t?t():t)?e.style.height=r?r+"px":"0px":e.style.height="0px"};exports.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=createPlaceholder(),o=createStyle(),n=(0,_loop2.default)(),i=merge({content:document.getElementById("promobarContent").innerHTML,resize:!0,placeholder:!0,offsets:[],close:Array.prototype.slice.call(document.querySelectorAll(".js-promobarClose")),lifespan:1},t),a=isEnabled(i.lifespan,i.content),c={active:!1,enabled:a(now()),height:height(e)},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;offsetPlaceholder(r,i.placeholder,e),addAttributes(i.offsets),o.innerHTML="[data-promobar] { "+(e?"transform: translateY("+e+"px) }":"}")},s=function(){c.enabled&&(c.active=!0,l(c.height),e.classList.add("is-active"),document.body.classList.add("promobar-is-active"),n.emit("show",c))},u=function(){c.enabled&&(c.active=!1,l(),e.classList.remove("is-active"),document.body.classList.remove("promobar-is-active"),n.emit("hide",c))},d=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(c.enabled){var r=height(e);(t||r!==c.height)&&(c.height=r,c.active?l(r):s(),n.emit("update",c))}},f=function(){storage.remove("root"),c.enabled=a(now())};return i.resize?window.addEventListener("resize",function(e){return d()}):null,i.close.forEach(function(e){return e.addEventListener("click",function(e){e.preventDefault(),u(),store(i.content),c.enabled=a(now()),n.emit("disabled",c)})}),_extends({},n,{hide:u,show:s,update:d,reset:f,getState:function(){return c}})};
},{"loop.js":1,"stockpile.js":2}]},{},[3])(3)
});